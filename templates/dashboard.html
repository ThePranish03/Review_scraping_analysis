<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:"Poppins", sans-serif; }

body {
    min-height:100vh; display:flex; justify-content:center; align-items:center; flex-direction:column;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    background-size:400% 400%; animation:gradientBG 12s ease infinite;
    padding:30px;
}
@keyframes gradientBG { 
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

.dashboard-container {
    background:rgba(15,23,42,0.7); 
    padding:40px 35px; 
    border-radius:20px; 
    box-shadow:0 20px 50px rgba(0,0,0,0.6);
    width:100%; 
    max-width:1100px; 
    backdrop-filter:blur(20px) saturate(180%);
    -webkit-backdrop-filter:blur(20px) saturate(180%);
    border:2px solid rgba(0,114,255,0.3);
    animation:fadeIn 1s ease-in-out;
}

.dashboard-container h2 { 
    margin-bottom:25px; 
    font-size:28px; 
    font-weight:700; 
    letter-spacing:1px; 
    text-align:center;
    background:linear-gradient(135deg,#00c6ff,#0072ff);
    background-clip:text;
    -webkit-text-fill-color:transparent;
}

/* Search bar */
.search-bar {
    display:flex; justify-content:center; gap:10px; margin-bottom:25px; flex-wrap:wrap;
}
.search-bar input {
    padding:12px 15px; 
    border-radius:12px; 
    border:2px solid rgba(0,114,255,0.3);
    width:350px; 
    font-size:15px;
    background:rgba(255,255,255,0.05);
    color:#e0e6f6;
    transition:all 0.3s ease;
}
.search-bar input:focus {
    border-color:#00c6ff; 
    box-shadow:0 0 12px #00c6ff;
    outline:none; 
    transform:scale(1.02);
}
.search-bar button {
    background:linear-gradient(135deg,#0072ff,#00c6ff); 
    background-size:300% 300%;
    border:none; 
    color:#fff; 
    font-weight:600;
    padding:12px 22px; 
    border-radius:12px; 
    cursor:pointer; 
    transition:0.3s;
    box-shadow:0 6px 20px rgba(0,114,255,0.6);
    animation:gradientFlow 6s ease infinite;
}
.search-bar button:hover {
    transform:scale(1.05); 
    box-shadow:0 8px 25px rgba(0,198,255,0.9);
}
@keyframes gradientFlow {
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

/* Product section */
.product-info {
    display:flex; justify-content:center; align-items:flex-start; gap:30px; margin-bottom:25px;
    flex-wrap:wrap;
}
.product-info img {
    max-width:220px; max-height:300px; 
    border-radius:12px; 
    object-fit:contain; 
    box-shadow:0 8px 20px rgba(0,0,0,0.4);
}
.product-info h3 {
    font-size:22px; font-weight:600; color:#e0e6f6; margin-top:10px; text-align:center;
}

/* Table styling */
.table-container {
    overflow-x:auto;
}
table {
    width:100%; border-collapse:collapse; margin-top:10px; 
    background:rgba(255,255,255,0.05); 
    border-radius:12px; 
    overflow:hidden; 
    box-shadow:0 8px 20px rgba(0,0,0,0.4);
    color:#e0e6f6;
}
thead {
    background:linear-gradient(135deg,#0072ff,#00c6ff);
    color:#fff;
}
thead th {
    padding:14px; text-align:left; font-size:15px;
}
tbody td {
    padding:12px; border-bottom:1px solid rgba(255,255,255,0.1); font-size:14px;
}
tbody tr:hover {
    background:rgba(255,255,255,0.08);
}
tbody tr:last-child td {
    border-bottom:none;
}

/* Fade-in */
@keyframes fadeIn { 
    from{opacity:0; transform:translateY(-20px);} 
    to{opacity:1; transform:translateY(0);} 
}
</style>
</head>
<body>

<div class="dashboard-container">
  <h2>Flipkart Reviews</h2>

  <!-- Search Bar -->
  <form method="POST" class="search-bar">
    <input type="text" name="search_query" placeholder="Search product..."
           value="{{ search_query }}">
    <button type="submit">Search</button>
  </form>

  <!-- Product Info -->
  {% if product_name or image_src %}
  <div class="product-info">
      {% if image_src %}
          <img src="{{ image_src }}" alt="Product Image">
      {% endif %}
      {% if product_name %}
          <h3>{{ product_name }}</h3>
      {% endif %}
  </div>
  {% endif %}

  <!-- Reviews Table -->
  {% if reviews %}
  <div class="table-container">
      <table>
          <thead>
              <tr>
                  <th>Serial No</th>
                  <th>Review</th>
                  <th>Rating</th>
              </tr>
          </thead>
          <tbody>
              {% for r in reviews %}
              <tr>
                  <td>{{ r.serial_no }}</td>
                  <td>{{ r.review }}</td>
                  <td>{{ r.rating }}</td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
  </div>
  {% else %}
      <p style="text-align:center; color:#e0e6f6; margin-top:20px;">No reviews found. Try searching above.</p>
  {% endif %}
</div>

</body>
</html>
